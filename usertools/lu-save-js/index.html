<!doctype html>
<html>
   <head>
      <title>Bitpacked save dumper</title>
      <link rel="stylesheet" href="index.css" />
      <script src="utils/aggregate-error-display-helper.js"></script>
      <script src="utils/assert-monkeypatch.js"></script>
      
      <script src="common.js"></script>
      
      <script src="parse-bbcode.js"></script>
      <script src="custom-elements/bitset-input-element.js"></script>
      <script src="custom-elements/enum-input-element.js"></script>
      <script src="custom-elements/tree-row-view-element.js"></script>
      <script src="custom-elements/tab-view-element.js"></script>
      <script type="module" src="custom-elements/c-view-element.js"></script>
      <script type="module" src="custom-elements/c-value-editor-element.js"></script>
      <script type="module" src="custom-elements/save-slot-element.js"></script>
      <script type="module" src="custom-elements/save-file-element.js"></script>
      
      <script type="module" src="translators/debugging-translator-1-to-2.js"></script>
      
      <script type="module" src="index.js"></script>
   </head>
   <body>
      <h1>Bitpacked save dumper</h1>
      <p>
         Given an XML file which describes a bitpacked save format, and an emulator SAV file made with that format, this page is intended to dump the contents of that save file.
      </p>
      
      <menu>
         <li data-action="import" disabled>
            Import save file
         </li>
         <li data-action="translate" disabled data-acts-on-save-file="true">
            Translate current save file
         </li>
         <li data-action="export" disabled data-acts-on-save-file="true">
            Export save file
         </li>
      </menu>
      <tab-view id="save-files"></tab-view>
      
      <dialog id="dialog-import">
         <div class="body">
            <p>Please provide your <code>.sav</code> file to load.</p>
            <p>By default, the savedata format is detected based on the version number in the <code>.sav</code> file. You can optionally provide an XML file defining the savedata format (e.g. for development and debugging purposes).</p>
            <hr/>
            <div class="form">
               <label for="file-sav">Save file (SAV):</label>
               <div class="file-input">
                  <input type="file" class="sav" />
                  <button class="clear">Clear</button>
               </div>
               
               <label for="file-xml">Override save file format (XML, optional):</label>
               <div class="file-input">
                  <input type="file" class="xml" />
                  <button class="clear">Clear</button>
               </div>
            </div>
         </div>
         <div class="buttons">
            <button data-action="activate">Load</button>
            <button data-action="cancel">Cancel</button>
         </div>
      </dialog>
      <dialog id="dialog-translate">
         <div class="body">
            <div class="form">
               <label>
                  <input name="translate-to-target" type="radio" value="known-version" selected />
                  Translate to version:
               </label>
               <select id="translate-to-version" disabled></select>
            
               <label>
                  <input name="translate-to-target" type="radio" value="xml-file" />
                  Translate to format (XML):
               </label>
               <div class="file-input">
                  <input type="file" class="xml" />
                  <button class="clear">Clear</button>
               </div>
            </div>
         </div>
         <div class="buttons">
            <button data-action="activate">Translate</button>
            <button data-action="cancel">Cancel</button>
         </div>
      </dialog>
      <dialog id="dialog-export">
         <div class="body">
            <a download>Click here to save the file.</a>
         </div>
         <div class="buttons">
            <button data-action="cancel">Cancel</button>
         </div>
      </dialog>
      
      <section class="slots">
      </section>
   </body>
</html>